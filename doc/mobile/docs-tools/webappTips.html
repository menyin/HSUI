<!DOCTYPE html>
<html class="docs-html docs-html-mb">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>ICSSHS-MUI for webapp</title>
  <meta name="description" content="ICSSHS-MUI for webapp">
  <meta name="keywords" content="ICSSHS-MUI for webapp">
  <meta name="author" content="design4u,email:66383210@qq.com,qq:66383210">
  <meta name="Copyright" Content="厦门中软海晟信息技术有限公司 版权所有 2014">
  
  <!--webapp网页宽度默认等于屏幕宽度（width=device-width），原始缩放比例（initial-scale=1）为1.0,（user-scalable）不允许用户缩放比例，IE9及以上浏览器支持-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"  />
  
  <!--针对IOS 浏览器的设置-->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <meta name="apple-touch-fullscreen" content="yes">
  <meta name="format-detection" content="telephone=no" />
  <link rel="apple-touch-icon" href="icon.png">
  <link rel="apple-touch-icon" href="icon@72.png" sizes="72x72">
  <link rel="apple-touch-icon" href="icon@2x.png" sizes="114x114">
  <link rel="apple-touch-icon" href="icon@114.png" sizes="144x144">
  <link rel="apple-touch-startup-image" href="undefined.png">
  
  <!--项目全局样式-->
  <link rel="stylesheet" type="text/css" href="../../../mobile/project/resources/css/normalize.css">
  <link rel="stylesheet" type="text/css" href="../../../mobile/project/resources/css/global.css">
  <link rel="stylesheet" type="text/css" href="../../../mobile/project/resources/css/iconfont.css">
  <link rel="stylesheet" type="text/css" href="../../../mobile/project/resources/css/animate.css">
  <link rel="stylesheet" type="text/css" href="../../../mobile/project/resources/css/base.css">
  <!--说明文档样式,实际应用中请不要引用-->
  <link rel="stylesheet" type="text/css" href="../../resources/css/docs.css">
  <script src="../../../mobile/project/resources/js/jquery-1.9.1.js"></script>
</head>
<body>
<div class="docs-content">
	<div class="docs-page-masthead">
        <h1>webapp开发技巧总结</h1>
        <p>它一个基于 Web 形式的应用程序，是针对智能手机、平板电脑等高性能移动设备做了特别优化的网页或网站。
        </p>
    </div>
    
    
    <h2>它相对原生应用程序(Native App)优势在于：</h2>
    <p class="docs-p">
    	<ol class="docs-ol">
        	<li>开发成本低，使用web开发技术就可以轻松的完成web app的开发</li>
            <li>升级较简单，升级不需要通知用户，在服务端更新文件即可，用户完全没有感觉</li>
            <li>测试方便，大多数情况下一个浏览器就OK，推荐使用Safari 5，自带的开发功能中可以模拟iphone/ipad等设备的UA</li>
            <li>维护简单</li>
        </ol>
    </p>
    
    <h2>技巧汇总</h2>
    <!--meta设置-->
    <h3>meta设置：</h3>
    <p class="docs-p">viewport也就是可视区域。对于桌面浏览器，我们都很清楚viewport是什么，就是出去了所有工具栏、状态栏、滚动条等等之后用于看网页的区域，这是真正有效的区域。由于移动设备屏幕宽度不同于传统web,因此我们需要改变viewport;</p>
    <div class="docs-highlight">
        <pre> 
<span class="docs-color-muted">//强制让文档的宽度与设备的宽度保持1:1，并且文档最大的宽度比例是1.0，且不允许用户点击屏幕放大浏览；</span>
&lt;meta name="viewport" content="width=320; initial-scale=1.0;maximum-scale=1.0; user-scalable=no;"&gt;

<span class="docs-color-muted">//iphone设备中的safari私有meta标签，全屏显示 WebApp，隐藏 safari 导航栏以及工具栏；</span>
&lt;meta content="yes" name="apple-mobile-web-app-capable" &gt;

<span class="docs-color-muted">//iphone的私有标签，它指定的iphone中safari顶端的状态条的样式；；</span>
&lt;meta content="black" name="apple-mobile-web-app-status-bar-style" &gt;

<span class="docs-color-muted">//告诉设备忽略将页面中的数字识别为电话号码；</span>
&lt;meta content="telephone=no" name="format-detection" &gt;


<span class="docs-color-muted">//去除Android平台中对邮箱地址的识别；</span>
&lt;meta content="email=no" name="format-detection" &gt;
        </pre>
    </div>
    
    
    <!--link设置-->
    <h3>link设置：</h3>
    <div class="docs-highlight">
        <pre> 
<span class="docs-color-muted">//IOS启动画面设置,当用户点击主屏图标打开 WebApp 时，系统会展示启动画面；</span>
&lt;link rel=”apple-touch-startup-image” href=”startup.png"&gt;

<span class="docs-color-muted">//IOS在设置书签的时候可以显示好看的图标；</span>
&lt;link rel=”apple-touch-icon” href=”iphon_tetris_icon.png" &gt;

<span class="docs-color-muted">//IOS竖屏时使用的样式；</span>
&lt;link rel="stylesheet" media="all and (orientation:portrait)" href="portrait.css" &gt;

<span class="docs-color-muted">//IOS横屏时使用的样式；</span>
&lt;link rel="stylesheet" media="all and (orientation:landscape)" href="landscape.css"&gt;

<span class="docs-color-muted">//IOS竖屏时使用的样式 </span>
&lt;style media="all and (orientation:portrait)" type="text/css"&gt;
#landscape { display: none; }
&lt;/style&gt;
 
<span class="docs-color-muted">//IOS横屏时使用的样式 </span>
&lt;style media="all and (orientation:landscape)" type="text/css"&gt;
#portrait { display: none; }
&lt;/style&gt; 
        </pre>
    </div>
    
    
    <!--使用特殊链接-->
    <h3>使用特殊链接：</h3>
    <div class="docs-highlight">
        <pre>
&lt;a href="tel:15788888888"&gt;打电话给我&lt;/a&gt;
&lt;a href="sms:15788888888"&gt;发短信&lt;/a&gt;
<span class="docs-color-muted">或用于单元格:</span>
&lt;td onclick="location.href='tel:15788888888'"&gt;
        </pre>
    </div>
    
    
    <!--亲闭IOS自动大写与自动修正-->
    <h3>关闭IOS自动大写与自动修正：</h3>
    <P class="docs-p">要关闭这两项功能，可以通过autocapitalize 与autocorrect 这两个选项：</P>
    <div class="docs-highlight">
        <pre>&lt;input type="text" autocapitalize="off" autocorrect="off"&gt;</pre>
    </div>
    
    
    <!--自动大写与自动修正-->
    <h3>WebKit CSS：</h3>
    <P class="docs-p">①“盒模型”的具体描述性质的包围盒块内容，包括边界，填充等等。</P>
    <div class="docs-highlight">
        <pre>
<span class="docs-color-muted">//容器圆角</span>
-webkit-border-bottom-left-radius: 5px;
-webkit-border-top-left-radius: 5px 10px;<span class="docs-color-muted">//水平和垂直两个值</span>
-webkit-border-radius: 5px; 

 <span class="docs-color-muted">//盒模型边框算法</span>    
-webkit-box-sizing: border-box|content-box; 

<span class="docs-color-muted">//容器阴影（参数分别为：水平X 方向偏移量；垂直Y 方向偏移量；高斯模糊半径值；阴影颜色值）</span> 
-webkit-box-shadow: 3px 3px 5px #666;

 <span class="docs-color-muted">//控制的是与其下方相邻元素之间的间距的表现形式</span> 
-webkit-margin-bottom-collapse: collapse|discard|separate
-webkit-margin-start: auto;
-webkit-padding-start: 10px;

 <span class="docs-color-muted">//点9边框背景</span>  
-webkit-border-image: url(borderimg.gif) 25 25 25 25 round/stretch round/stretch;

<span class="docs-color-muted">//去除系统默认appearance的样式,none常用于IOS下移除原生样式</span> 
-webkit-appearance: none/button/checkbox/listbox;   
        </pre>
    </div>
    
    <p class="docs-p">②“视觉格式化模型”描述性质，确定了位置和大小的块元素。</p>
    <div class="docs-highlight">
        <pre>direction: rtl
unicode-bidi: bidi-override; 常量：bidi-override/embed/normal
        </pre>
	</div>
    
    
    <p class="docs-p">③“视觉效果”描述属性，调整的视觉效果块内容，包括溢出行为，调整行为，能见度，动画，变换，和过渡。</p>
    <div class="docs-highlight">
        <pre>
<span class="docs-color-muted">//clip 属性剪切了一幅图像</span>
clip: rect(10px, 5px, 10px, 5px)

<span class="docs-color-muted">//resize 属性规定是否可由用户调整元素尺寸。</span>
resize: auto/both/horizontal/none/vertical

<span class="docs-color-muted">//visibility 属性规定元素是否可见,即使不可见的元素也会占据页面上的空间。</span>
visibility: collapse/hidden/visible

<span class="docs-color-muted">//过渡动画，参数分别为 property(指定发生变化的属性),duration(制定发生变化的时间),timing-function(可以定义动画的变化时间曲线),delay(指定在变换开始之前的时间延迟)。</span>

<span class="docs-color-muted">//动画效果 ease/linear/ease-in/ease-out/ease-in-out</span>
-webkit-transition: all 500ms ease-out 100ms;

<span class="docs-color-muted">//决定元素背面在面向用户时是否可见。常结合transform 设置旋转使用</span>
-webkit-backface-visibility: visible(默认值)/hidden

<span class="docs-color-muted">//设置或检索对象倒影。</span>
-webkit-box-reflect: right 1px; 
-webkit-box-reflect: below 4px -webkit-gradient(linear, left top, left bottom,from(transparent), color-stop(0.5, transparent), to(white));

<span class="docs-color-muted">//CSS 遮罩/蒙板效果</span>
-webkit-mask-image: -webkit-gradient(linear, left top, left bottom, from(rgba(0,0,0,1)), to(rgba(0,0,0,0)));;   
-webkit-mask-attachment: fixed/scroll

<span class="docs-color-muted">//定义3D元素距视图的距离。大多数情况下500px-1000px透视扭曲适度，所达到的效果较好。</span>
-webkit-perspective: 500px；
<span class="docs-color-muted">//定义3D元素所基于的X轴和Y轴。默认为50% 50%。</span>
-webkit-perspective-origin: left top;

<span class="docs-color-muted">//设置或检索对象的转换。</span>
-webkit-transform: rotate(5deg);
-webkit-transform-style: flat/preserve-3d; (2D 与3D)
        </pre>
	</div>
    
    <p class="docs-p">④“生成的内容，自动编号，并列出”描述属性，允许您更改内容的一个组成部分，创建自动编号的章节和标题，和操纵的风格清单的内容。</p>
    <div class="docs-highlight">
        <pre>content: “Item” counter(section) ” “;
This resets the counter.
First section
>two section
three section
counter-increment: section 1;
counter-reset: section;
        </pre>
	</div>
    
    <p class="docs-p">⑤“分页媒体”描述性能与外观的属性，控制印刷版本的网页，如分页符的行为。</p>
    <div class="docs-highlight">
        <pre>page-break-after: auto; 常量：always/auto/avoid/left/right
page-break-before: auto; 常量：always/auto/avoid/left/right
page-break-inside: auto; 常量：auto/avoid
        </pre>
	</div>
    
    
    <p class="docs-p">⑥“颜色和背景”描述属性控制背景下的块级元素和颜色的文本内容的组成部分。</p>
    <div class="docs-highlight">
        <pre>
<span class="docs-color-muted">//指定对象的背景图像向外裁剪的区域。</span>
-webkit-background-clip: border|content|padding|text
<span class="docs-color-muted">//设置或检索对象的背景图像计算background-position时的参考原点(位置)。</span>
-webkit-background-origin: border|content|padding|text
<span class="docs-color-muted">//检索或设置对象的背景图像的尺寸大小。常量：length/length_x/length_y</span>
-webkit-background-size: 55px; 
        </pre>
	</div>
    
    
    <p class="docs-p">⑦ “字型”的具体描述性质的文字字体的选择范围内的一个因素。报告还描述属性用于下载字体定义。</p>
    
    <div class="docs-highlight">
        <pre>unicode-range: U+00-FF, U+980-9FF;
        </pre>
	</div>
    
    <p class="docs-p">⑧“文本”描述属性的特定文字样式，间距和自动滚屏。</p>
    <div class="docs-highlight">
        <pre>text-shadow: #00FFFC 10px 10px 5px;
text-transform: capitalize; 常量：capitalize/lowercase/none/uppercase
word-wrap: break-word; 常量：break-word/normal
-webkit-marquee: right large infinite normal 10s; 常量：direction(方向) increment(迭代次数) repetition(重复) style(样式) speed(速度);
-webkit-marquee-direction: ahead/auto/backwards/down/forwards/left/reverse/right/up
-webkit-marquee-incrementt: 1-n/infinite(无穷次)
-webkit-marquee-speed: fast/normal/slow
-webkit-marquee-style: alternate/none/scroll/slide
-webkit-text-fill-color: #ff6600; 常量：capitalize, lowercase, none, uppercase
-webkit-text-security: circle; 常量：circle/disc/none/square
-webkit-text-size-adjust: none; 常量:auto/none;
-webkit-text-stroke: 15px #fff;
-webkit-line-break: after-white-space; 常量：normal/after-white-space
-webkit-appearance: caps-lock-indicator;
-webkit-nbsp-mode: space; 常量： normal/space
-webkit-rtl-ordering: logical; 常量：visual/logical
-webkit-user-drag: element; 常量：element/auto/none
-webkit-user-modify: read- only; 常量：read-write-plaintext-only/read-write/read-only
-webkit-user-select: text; 常量：text/auto/none
        </pre>
	</div>
    <p class="docs-p">⑨“表格”描述的布局和设计性能表的具体内容。</p>
    <div class="docs-highlight">
        <pre>-webkit-border-horizontal-spacing: 2px;
-webkit-border-vertical-spacing: 2px;
-webkit-column-break-after: right; 常量：always/auto/avoid/left/right
-webkit-column-break-before: right; 常量：always/auto/avoid/left/right
–webkit-column-break-inside: logical; 常量：avoid/auto
-webkit-column-count: 3; //分栏
-webkit-column-rule: 1px solid #fff;
style:dashed,dotted,double,groove,hidden,inset,none,outset,ridge,solid
        </pre>
	</div>
    
    <p class="docs-p">⑩“用户界面”描述属性，涉及到用户界面元素在浏览器中，如滚动文字区，滚动条，等等。报告还描述属性，范围以外的网页内容，如光标的标注样式和显示当您按住触摸触摸目标，如在iPhone上的链接。</p>
    <div class="docs-highlight">
        <pre>-webkit-box-align: baseline,center,end,start,stretch 常量：baseline/center/end/start/stretch
-webkit-box-direction: normal;常量：normal/reverse
-webkit-box-flex: flex_valuet
-webkit-box-flex-group: group_number
-webkit-box-lines: multiple; 常量：multiple/single
-webkit-box-ordinal-group: group_number
-webkit-box-orient: block-axis; 常量：block-axis/horizontal/inline-axis/vertical/orientation
–webkit-box-pack: alignment; 常量：center/end/justify/start
        </pre>
	</div>
    
    <!--动画过渡-->
    <h3>动画过渡：</h3>
    <p class="docs-p">这是 Webkit 中最具创新力的特性：使用过渡函数定义动画。</p>
    <div class="docs-highlight">
        <pre> -webkit-animation: title infinite ease-in-out 3s;
animation 有这几个属性：
-webkit-animation-name： //属性名，就是我们定义的keyframes
-webkit-animation-duration：3s //持续时间
-webkit-animation-timing-function： //过渡类型：ease/ linear(线性) /ease-in(慢到快)/ease-out(快到慢) /ease-in-out(慢到快再到慢) /cubic-bezier
-webkit-animation-delay：10ms //动画延迟(默认0)
-webkit-animation-iteration-count： //循环次数(默认1)，infinite 为无限
-webkit-animation-direction： //动画方式：normal(默认 正向播放)； alternate(交替方向，第偶数次正向播放，第奇数次反向播放)
        </pre>
    </div>
    <p class="docs-p">这些同样是可以简写的。但真正让我觉的很爽的是keyframes，它能定义一个动画的转变过程供调用，过程为0%到100%或from(0%)到to(100%)。简单点说，只要你有想法，你想让元素在这个过程中以什么样的方式改变都是很简单的。</p>
    <div class="docs-highlight">
        <pre>
-webkit-transform: 类型（缩放scale/旋转rotate/倾斜skew/位移translate）
scale(num,num) 放大倍率。scaleX 和 scaleY(3)，可以简写为：scale(* , *)
rotate(*deg) 转动角度。rotateX 和 rotateY，可以简写为：rotate(* , *)
Skew(*deg) 倾斜角度。skewX 和skewY，可简写为：skew(* , *)
translate(*,*) 坐标移动。translateX 和translateY，可简写为：translate(* , *)。
        </pre>
    </div>
    <!--补充-->
    <h3>补充：</h3>
    <p class="docs-p">阻止旋转屏幕时自动调整字体大小</p>
    <div class="docs-highlight">
        <pre>
html, body, form, fieldset, p, div, h1, h2, h3, h4, h5, h6 {-webkit-text-size-adjust:none;}
        </pre>
    </div>
    
    
    <p class="docs-p">iPhone才识别的CSS</p>
    <div class="docs-highlight">
        <pre>@media screen and (max-device-width: 480px) {}</pre>
    </div>
    
    <p class="docs-p">缩小图片,网站的大图通常宽度都超过480像素，如果用前面的代码限制了缩放，这些图片在iPhone版显示显然会超过屏幕。好在iPhone机能还够，我们可以用CSS让iPhone自动将大图片缩小显示。</p>
    <div class="docs-highlight">
        <pre>
@media screen and (max-device-width: 480px){
　　img{max-width:100%;height:auto;}
}
        </pre>
    </div> 
    
    
    <p class="docs-p">WebApp 图片显示模糊解决方案</p>
    <div class="docs-highlight">
        <pre>
/* 普通显示屏(设备像素比例小于等于1.3)使用1倍的图 */ 
.css{background-image: url(img_1x.png);}

/* 高清显示屏(设备像素比例大于等于1.5)使用2倍图  */
@media only screen and (-webkit-min-device-pixel-ratio:1.5){
.css{background-image: url(img_2x.png);}
        </pre>
    </div> 
    
    
    <p class="docs-p">position:fixed</p>
    <p class="docs-p">需要固定顶部标题栏、底部导航栏，在web端常用到position:fixed 来实现，可惜移动端在android 2.2、2.3系统中无效。解决办法是在标签内，增加下面这段设置</p>
    <div class="docs-highlight">
        <pre>
&lt;meta content='True' name='HandheldFriendly' /&gt;
        </pre>
    </div> 
    
    
    <p class="docs-p">css实现三角形</p>
    <p class="docs-p">设置上、下、左、右不同方向的边框，即可显示不同方向的三角形。</p>
    <div class="docs-highlight">
        <pre>
width:0px;
height:0px;
border-left:7px solid transparent;  /* left arrow slant */
border-right:7px solid transparent; /* right arrow slant */
border-bottom:7px solid #333; /* bottom, add background color here */
font-size:0px;
line-height:0px;
margin:0 auto;
        </pre>
    </div> 
    
    <p class="docs-p">定宽网页设计下,固定宽度布局开发WebApp并实现多终端下WebApp布局自适应</p>
    <p class="docs-p">1、iPhone上，指定viewport 的width等于页面设计宽度</p>
    <div class="docs-highlight">
        <pre>
&lt;name="viewport" content="width=480px, user-scalable=no"&gt;
        </pre>
    </div> 
    <p class="docs-p">2、Android上，根据公式计算得出target-densitydpi的值，指定到viewport</p>
    <div class="docs-highlight">
        <pre>
get-target-densitydpi = UI-width / device-width * window.devicePixelRatio * 160; 
<span class="docs-color-muted">//UI-width ：WebApp布局宽度 </span>
<span class="docs-color-muted">//device-width ：屏幕分辨率宽度</span>
&lt;meta name="viewport" content="target-densitydpi=get-target-densitydpi, width=device-width, user-scalable=no"&gt;

<span class="docs-color-muted">//JS伪代码</span> 
get-target-densitydpi = UI-width / device-width * window.devicePixelRatio * 160; 
targetDensitydpi = 'target-densitydpi=' + get-target-densitydpi + ', width=device-width, user-scalable=no'; 
document.getElementsByName('viewport')[0].setAttribute( 'content', initialContent );
        </pre>
    </div> 
    
</div>
</body>
</html>